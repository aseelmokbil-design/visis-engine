<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>VISIS Engine â€“ Cinematic AI Image</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg1: #020617;
      --bg2: #0b1120;
      --accent: #38bdf8;
      --accent2: #6366f1;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --error: #f97373;
    }
    *{box-sizing:border-box;margin:0;padding:0;font-family:system-ui,-apple-system,BlinkMacSystemFont,"SF Pro Text","Segoe UI",sans-serif;}
    body{
      min-height:100vh;
      background:radial-gradient(circle at top, #1d2437 0, #020617 55%);
      color:var(--text);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }
    .shell{
      width:100%;
      max-width:960px;
      border-radius:24px;
      padding:22px 22px 24px;
      background:radial-gradient(circle at top left,rgba(56,189,248,0.18),transparent 55%),
                 radial-gradient(circle at bottom right,rgba(99,102,241,0.22),transparent 60%),
                 linear-gradient(145deg,#020617,#020617 40%,#020617);
      box-shadow:0 32px 80px rgba(15,23,42,0.85);
      border:1px solid rgba(148,163,184,0.35);
    }
    .top{
      display:flex;
      justify-content:space-between;
      gap:14px;
      margin-bottom:18px;
      flex-wrap:wrap;
      align-items:center;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:10px;
    }
    .orb{
      width:30px;height:30px;border-radius:999px;
      background:radial-gradient(circle at 30% 20%,#4adeff,transparent 55%),
                 radial-gradient(circle at 70% 80%,#6366f1,transparent 60%);
      box-shadow:0 0 16px rgba(56,189,248,0.8);
      position:relative;
      overflow:hidden;
    }
    .orb::after{
      content:"";position:absolute;inset:7px;border-radius:999px;
      border:1px solid rgba(248,250,252,0.7);box-shadow:0 0 10px rgba(148,163,184,0.8) inset;
    }
    .title-main{
      font-weight:800;
      letter-spacing:0.15em;
      font-size:13px;
      text-transform:uppercase;
    }
    .title-sub{
      font-size:11px;
      color:var(--muted);
    }
    .badge{
      font-size:10px;
      text-transform:uppercase;
      letter-spacing:0.16em;
      padding:4px 10px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.6);
      color:var(--accent);
    }
    .layout{
      display:grid;
      grid-template-columns:minmax(0,1.1fr) minmax(0,1.1fr);
      gap:18px;
    }
    @media(max-width:800px){
      .layout{grid-template-columns:1fr;}
    }
    .left h1{
      font-size:clamp(26px,4vw,32px);
      font-weight:800;
      line-height:1.1;
      margin-bottom:8px;
    }
    .grad{
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
    }
    .subtitle{
      font-size:13px;
      color:var(--muted);
      max-width:420px;
      margin-bottom:14px;
      line-height:1.5;
    }
    textarea{
      width:100%;
      min-height:110px;
      border-radius:14px;
      border:1px solid rgba(148,163,184,0.5);
      background:rgba(15,23,42,0.85);
      color:var(--text);
      padding:10px 12px;
      font-size:13px;
      resize:vertical;
      outline:none;
    }
    textarea:focus{
      border-color:var(--accent);
      box-shadow:0 0 0 1px rgba(56,189,248,0.4);
    }
    .label{
      font-size:12px;
      margin-bottom:4px;
      color:var(--muted);
      display:block;
    }
    .buttons{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-top:10px;
    }
    button{
      border:none;
      border-radius:999px;
      padding:7px 16px;
      font-size:12px;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:6px;
      transition:all .18s;
    }
    .btn-primary{
      background:linear-gradient(135deg,var(--accent2),var(--accent));
      color:#020617;
      font-weight:600;
      box-shadow:0 0 18px rgba(56,189,248,0.6);
    }
    .btn-primary:hover{transform:translateY(-1px);opacity:.96;}
    .btn-ghost{
      background:transparent;
      color:var(--muted);
      border:1px solid rgba(148,163,184,0.55);
    }
    .btn-ghost:hover{border-color:var(--accent);color:var(--accent);}
    .status{
      font-size:12px;
      margin-top:8px;
      min-height:16px;
      color:var(--muted);
      display:flex;
      align-items:center;
      gap:6px;
    }
    .dot-live{
      width:7px;height:7px;border-radius:999px;
      background:#22c55e;box-shadow:0 0 10px rgba(34,197,94,0.9);
      animation:pulse 1.6s infinite;
    }
    @keyframes pulse{
      0%,100%{opacity:1;}
      50%{opacity:.4;}
    }
    .right{
      background:radial-gradient(circle at top left,rgba(56,189,248,0.2),transparent 55%),
                 radial-gradient(circle at bottom right,rgba(99,102,241,0.25),transparent 60%),
                 #020617;
      border-radius:18px;
      border:1px solid rgba(148,163,184,0.35);
      padding:10px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .preview-frame{
      flex:1;
      border-radius:14px;
      border:1px solid rgba(15,23,42,0.9);
      background:radial-gradient(circle at top,#111827 0,#020617 65%);
      position:relative;
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:6px;
    }
    .placeholder{
      font-size:11px;
      color:var(--muted);
      text-align:center;
      max-width:220px;
    }
    .preview-img{
      max-width:100%;
      max-height:100%;
      border-radius:12px;
      box-shadow:0 20px 40px rgba(15,23,42,0.9);
      display:none;
    }
    .error{color:var(--error);}
    .footer{
      margin-top:10px;
      font-size:10px;
      color:var(--muted);
      display:flex;
      justify-content:space-between;
      gap:8px;
      flex-wrap:wrap;
    }
  </style>
</head>
<body>
  <main class="shell">
    <div class="top">
      <div class="brand">
        <div class="orb"></div>
        <div>
          <div class="title-main">VISIS ENGINE</div>
          <div class="title-sub">Cinematic AI Image Generator</div>
        </div>
      </div>
      <span class="badge">Alpha Â· OpenAI Powered</span>
    </div>

    <section class="layout">
      <div class="left">
        <h1>Ø­ÙˆÙ‘Ù„ Ø§Ù„ÙˆØµÙ Ø¥Ù„Ù‰ <span class="grad">Ù„Ù‚Ø·Ø§Øª Ø³ÙŠÙ†Ù…Ø§Ø¦ÙŠØ©</span> ÙÙŠ Ø«ÙˆØ§Ù†Ù.</h1>
        <p class="subtitle">
          Ø§ÙƒØªØ¨ Ù…Ø´Ù‡Ø¯ÙƒØŒ ÙˆØ§Ø®ØªØ± Ø²Ø± "Generate Image".  
          VISIS ENGINE ÙŠØ³ØªØ®Ø¯Ù… Ù†Ù…Ø§Ø°Ø¬ OpenAI Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙˆØµÙ Ø¥Ù„Ù‰ ØµÙˆØ±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø© â€“ Ù…Ø«Ø§Ù„ÙŠØ© Ù„Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§ØªØŒ Ø§Ù„Ù‚ØµØµØŒ ÙˆØ§Ù„Ø¨Ø±Ø§Ù†Ø¯.
        </p>

        <label class="label" for="prompt">Ø§Ù„ÙˆØµÙ (Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø£Ùˆ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©):</label>
        <textarea id="prompt" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø¯ÙŠÙ†Ø© Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ© Ù…Ø¶ÙŠØ¦Ø© Ø¨Ø§Ù„Ù†ÙŠÙˆÙ† Ø¹Ù†Ø¯ Ø§Ù„ØºØ±ÙˆØ¨ØŒ Ù„Ù‚Ø·Ø© Ø³ÙŠÙ†Ù…Ø§Ø¦ÙŠØ© Ù…Ù† Ø§Ù„Ø£Ø¹Ù„Ù‰..."></textarea>

        <div class="buttons">
          <button class="btn-primary" id="btn-image">ğŸ¨ Generate Image</button>
          <button class="btn-ghost" id="btn-clear">âœ¦ Ù…Ø³Ø­ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©</button>
        </div>

        <div class="status" id="status">
          <span class="dot-live"></span>
          Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„. Ù„Ø§ ØªÙ†Ø³Ù Ø¥Ø¶Ø§ÙØ© Ù…ÙØªØ§Ø­ OpenAI ÙÙŠ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Vercel (OPENAI_API_KEY).
        </div>
      </div>

      <div class="right">
        <div class="preview-frame">
          <img id="preview" class="preview-img" alt="VISIS result preview" />
          <div id="placeholder" class="placeholder">
            Ù„Ù… ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØ±Ø© Ø¨Ø¹Ø¯.<br />
            Ø§ÙƒØªØ¨ ÙˆØµÙØ§Ù‹ ÙˆØ§Ø¶ØºØ· <b>Generate Image</b> Ù„ØªØ±Ù‰ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ù‡Ù†Ø§.
          </div>
        </div>
      </div>
    </section>

    <div class="footer">
      <span>VISIS Engine Â· Prototype v0.1</span>
      <span>Backend: Vercel Serverless Â· OpenAI Images API</span>
    </div>
  </main>

  <script>
    const btnImage = document.getElementById('btn-image');
    const btnClear = document.getElementById('btn-clear');
    const promptInput = document.getElementById('prompt');
    const statusEl = document.getElementById('status');
    const imgEl = document.getElementById('preview');
    const placeholderEl = document.getElementById('placeholder');

    function setStatus(msg, type="info") {
      statusEl.textContent = msg;
      statusEl.classList.remove('error');
      if (type === 'error') statusEl.classList.add('error');
    }

    btnClear.addEventListener('click', () => {
      imgEl.src = "";
      imgEl.style.display = "none";
      placeholderEl.style.display = "block";
      setStatus("ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©. Ø§ÙƒØªØ¨ ÙˆØµÙØ§Ù‹ Ø¬Ø¯ÙŠØ¯Ø§Ù‹ ÙˆØ¬Ø±Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.");
    });

    btnImage.addEventListener('click', async () => {
      const prompt = promptInput.value.trim();
      if (!prompt) {
        setStatus("â— Ø§ÙƒØªØ¨ ÙˆØµÙ Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø£ÙˆÙ„Ø§Ù‹.", "error");
        return;
      }

      setStatus("â³ Ø¬Ø§Ø±ÙŠ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØµÙˆØ±Ø© Ø¹Ø¨Ø± OpenAIâ€¦ Ù‚Ø¯ ÙŠØ³ØªØºØ±Ù‚ Ø¨Ø¶Ø¹ Ø«ÙˆØ§Ù†Ù.");
      btnImage.disabled = true;

      try {
        const res = await fetch('/api/generate-image', {
          method: 'POST',
          headers: {'Content-Type': 'application/json'},
          body: JSON.stringify({ prompt })
        });

        if (!res.ok) {
          const text = await res.text();
          throw new Error(text || 'Request failed');
        }

        const data = await res.json();
        if (!data || !data.url) {
          throw new Error('Ø§Ø³ØªØ¬Ø§Ø¨Ø© ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹Ø© Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù….');
        }

        imgEl.src = data.url;
        imgEl.style.display = "block";
        placeholderEl.style.display = "none";
        setStatus("âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØµÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­.");
      } catch (err) {
        console.error(err);
        setStatus("âš  Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ OpenAI Ø£Ùˆ Vercel Function. ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ù…ÙØªØ§Ø­ (OPENAI_API_KEY) Ø«Ù… Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.", "error");
      } finally {
        btnImage.disabled = false;
      }
    });
  </script>
</body>
</html>
